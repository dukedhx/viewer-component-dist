!function(){"use strict";function e(t){let i="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var o=0;o<5;o++)i+=n.charAt(Math.floor(Math.random()*n.length));return t&&t(i)?e(t):i}const t=e(),i="https://developer.api.autodesk.com/modelderivative/v2/viewers/style.min.css?v=v",n="https://developer.api.autodesk.com/modelderivative/v2/viewers/viewer3D.min.js?v=v",o={keepCurrentModels:!0},r="7",s={Defaults:{InitOptions:{},ViewerOptions:{},LoadOptions:{}},InitOptions:{},ViewerOptions:{},LoadOptions:{},getViewer:function(e){e||(e=Object.keys(s.Viewers)[0]);return s.Viewers[e]?Promise.resolve(s.Viewers[e]):new Promise(i=>{const n=function(o){e&&e!=o.detail.name||(window.removeEventListener(t,n),i(o.detail.viewer))};window.addEventListener(t,n)})},start:function(e,t){e?s.ViewerLoaders[e].start():Object.entries(s.ViewerLoaders).filter(e=>!e[1].starting&&!e[1].loaded).forEach(e=>s.start(e[0]))},terminate:function(e){return Promise.all(e?[s.ViewerLoaders[e]]:Object.entries(s.ViewerLoaders).map(e=>new Promise(t=>{e[1].terminate(),t()})))},Promises:{},Viewers:{},state:{loaded:!1},ViewerLoaders:{}};function a(e){if(e&&"string"==typeof e)try{return JSON.parse(e)}catch(e){console.error(e)}return{}}function d(e,t,i){return isNaN(e)?e:(e||i)+(isNaN(i)?"":t)}function l(e,t){return new Promise((i,n)=>{const o=document.createElement("link");o.type="text/css",o.rel="stylesheet",o.onload=()=>i(o),o.onError=()=>n(o),o.href=e,(t||document.head).appendChild(o)})}function u(e,t){const i=document.createElement("style");return i.textContent=e,(t||document.head).appendChild(i),i}function c(e,t){return s.Promises[e]||(s.Promises[e]="function"==typeof t?new Promise(e=>t(e)):t)}function h(t,i){const n=function(e,t){return t.reduce((t,i)=>{const n="object"==typeof i?Object.keys(i)[0]:i,o="object"==typeof i?i[n](e.getAttribute(n)):e.getAttribute(i);return Object.assign(t,{[n]:o})},{})}(t,["url","urn","name","view-name","view","type","guid"]);return n.name=n.name||e(),s.LoadOptions[n.name]=Object.assign(n,i,a((t.querySelector("options")||{}).textContent))}function m(e){return e&&"[object Function]"==={}.toString.call(e)}class w{constructor(e,t,i){this.validate=(n,o,r)=>(m(e)?e(n):e)&&(r||i||(e=>e))(n)||(m(o=o||t)?o(n):function(e){if(e){if(!m(window.AutodeskForge.CallBackHandlers))throw e;window.AutodeskForge.CallBackHandlers(e)}}(o))}}var p={isBase64:new w(e=>{try{return atob(e),!0}catch(e){}return!1},e=>btoa(validators.isTrimmedString(e))),isTrimmedString:new w(e=>"string"==typeof e,null,e=>e.trim()),isNotSet:new w(e=>!e),isFullURN:new w(e=>e=validators.isTrimmedString(e),"Not a string",e=>"urn:"+validators.isBase64.validate("0"==e.indexOf("urn:")?e.substring(4):e)),isFunction:new w(m),isObject:new w(e=>"object"==typeof e),isUrl:new w((function(e){const t=document.createElement("a");return t.href=e,t.host&&t.host!=window.location.host}),"Not a valid URL"),isArray:new w(e=>e instanceof Array)};class g{constructor({name:e,delayLoad:t,models:i,env:n,container:o,useGUI:r,initOptions:a,viewerOptions:d,version:l}){this.delayLoad=t,this.version=l,this.name=p.isTrimmedString.validate(e,"Not properly named!"),this.models=p.isArray.validate(i,"No model load option provided!"),this.container=p.isObject.validate(o,"No valid container provided!"),this.useGUI=r,s.InitOptions[e]=Object.assign({env:i.length&&i[0].url?"Local":"AutodeskProduction"},a),s.ViewerOptions[e]=d,s.ViewerLoaders[e]=this}init(e){c("loadDependency").then(()=>Promise.all((e||[]).map(e=>loadScript(e))).then(()=>this.start()))}start(){this.delayLoad?this.delayLoad=!1:s.state.loaded&&this.loadViewer()}terminate(){this.viewer.finish(),this.loaded=this.starting=!1}loadViewer(){return this.starting=!0,new Promise(e=>Autodesk.Viewing.Initializer(Object.assign(s.Defaults.InitOptions,s.InitOptions[this.name]),()=>{this.viewer=s.Viewers[this.name]=this.initViewer(),function(e,t,i){window.dispatchEvent(new CustomEvent(e,Object.assign({detail:t},i)))}(t,{viewer:this.viewer,name:this.name}),this.models.forEach(e=>this.loadModel(e.name)),e(this.loaded=!0)}))}loadModel(e){const t=Object.assign({},s.Defaults.LoadOptions,s.LoadOptions[e]);return"function"==typeof t.loadHandler?t.loadHandler(this.viewer,t):new Promise((e,i)=>{if(t.urn){try{window.atob(t.urn.replace("urn:",""))}catch(e){t.urn=btoa(t.urn)}Autodesk.Viewing.Document.load(0==t.urn.indexOf("urn:")?t.urn:"urn:"+t.urn,n=>{const o=n.getRoot().search(Object.assign({type:"geometry"},t.type?{type:t.type}:null,t["view-name"]?{name:t["view-name"]}:null,t.guid?{guid:t.guid}:null))[0];this.viewer.start(),this.version[0]>5?this.viewer.loadDocumentNode(n,o,t.option,t=>e(t),e=>i(e)):t.url=n.getViewablePath(o)})}this.viewer[this.viewer.started?"loadModel":"start"](t.url,t,i=>{(t.loadSuccessCallback||(()=>{}))(),e(i)},e=>{(t.loadFailureCallback||(()=>{}))(),i(e)})})}initViewer(){return new(this.useGUI?Autodesk.Viewing.GuiViewer3D||Autodesk.Viewing.Private.GuiViewer3D:Autodesk.Viewing.Viewer3D||Autodesk.Viewing.Private.Viewer3D)(this.container,Object.assign({},s.ViewerOptions[this.name],s.Defaults.ViewerOptions))}}window.AutodeskForge={WebComponent:s},window.customElements.define("forge-viewer",class extends HTMLElement{constructor(){super();const t=Object.assign({},o,a((this.querySelector("model-options")||this.querySelector("options")||{}).textContent)),m=Array.prototype.map.call(this.querySelectorAll("model")||[],e=>h(e,t)),w=(this.querySelector("css")||{}).textContent;let p=this.getAttribute("version")||r;"1"==p.length&&(p+=".*");const v=this.getAttribute("name")||e(),f="true"===this.getAttribute("delay-load"),b="false"!==this.getAttribute("GUI"),y="true"===this.getAttribute("shadow-mode"),A=!b&&"false"!==this.getAttribute("shadow-mode")||y,O=A?this.attachShadow({mode:"open"}):this,V=Object.assign({accessToken:this.getAttribute("access-token")},a((this.querySelector("init-options")||this.querySelector("options")||{}).textContent)),k=a((this.querySelector("viewer-options")||this.querySelector("options")||{}).textContent),j=document.createElement("div");j.id=this.getAttribute("container-id")||e(e=>document.getElementById(e)),j.className=this.getAttribute("class")||"",function({id:e,css:t,height:i,width:n,position:o,left:r,top:s,right:a,bottom:l}){u(`#${e} .adsk-viewing-viewer { ${t||""}; ${i?"height:"+d(i,"%")+"!important;":""}  ${n?"width:"+d(n,"%",100)+"!important;":""} ${o?"position:"+(["fixed","absolute"].includes(o)?o:"relative")+"!important;":""} ${r?"left:"+d(n,"%",100)+"!important;":""} ${s?"top:"+d(s,"%","unset")+"!important;":""} ${a?"right:"+d(a,"%","unset")+"!important;":""} ${l?"bottom:"+d(l,"%","unset")+"!important":""}}`)}({id:j.id,css:this.getAttribute("css"),height:this.getAttribute("height"),width:this.getAttribute("width"),position:this.getAttribute("position"),left:this.getAttribute("left"),top:this.getAttribute("top"),right:this.getAttribute("right"),bottom:this.getAttribute("bottom")}),this.innerHTML="",O.appendChild(j),w&&u(w,A?O:null);const L=Array.prototype.map.call(this.querySelectorAll("dependency")||[],e=>e.getAttribute("src"));var S;s.state.loaded||c("loadDependency",Promise.all([l(i+p,y?O:null),(S=n+p,new Promise((e,t)=>{const i=document.createElement("script");i.type="text/javascript",i.src=S,i.onload=()=>e(i),i.onError=()=>t(i),document.head.appendChild(i)}))]).then(()=>s.state.loaded=!0)),new g({version:p,deps:L,delayLoad:f,initOptions:V,viewerOptions:k,models:m,useGUI:b,container:j,name:v}).init()}})}();
